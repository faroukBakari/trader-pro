{
  "openapi": "3.0.3",
  "info": {
    "title": "Trading API",
    "description": "A comprehensive trading API server with real-time market data and portfolio management. Supports multiple API versions for backwards compatibility.",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8000",
      "description": "Development server"
    },
    {
      "url": "https://api.trading.com",
      "description": "Production server"
    }
  ],
  "paths": {
    "/api/v1/health": {
      "get": {
        "tags": [
          "v1",
          "health"
        ],
        "summary": "Health Check",
        "description": "Returns the current health status of the trading API service with version information",
        "operationId": "getHealthStatus",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/versions": {
      "get": {
        "tags": [
          "v1",
          "versioning"
        ],
        "summary": "API Versions",
        "description": "Returns information about all available API versions",
        "operationId": "getAPIVersions",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIMetadata"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/version": {
      "get": {
        "tags": [
          "v1",
          "versioning"
        ],
        "summary": "Current API Version",
        "description": "Returns information about the current API version",
        "operationId": "getCurrentAPIVersion",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Getcurrentapiversion"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "tags": [
          "root"
        ],
        "summary": "Root",
        "description": "Root endpoint with API information.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Root  Get"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "APIMetadata": {
        "properties": {
          "current_version": {
            "$ref": "#/components/schemas/APIVersion"
          },
          "available_versions": {
            "items": {
              "$ref": "#/components/schemas/VersionInfo"
            },
            "type": "array",
            "title": "Available Versions"
          },
          "documentation_url": {
            "type": "string",
            "title": "Documentation Url"
          },
          "support_contact": {
            "type": "string",
            "title": "Support Contact"
          }
        },
        "type": "object",
        "required": [
          "current_version",
          "available_versions",
          "documentation_url",
          "support_contact"
        ],
        "title": "APIMetadata",
        "description": "Complete API metadata including version information."
      },
      "APIVersion": {
        "type": "string",
        "enum": [
          "v1",
          "v2"
        ],
        "title": "APIVersion",
        "description": "Supported API versions."
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": "Service is healthy"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          },
          "api_version": {
            "type": "string",
            "title": "Api Version"
          },
          "version_info": {
            "type": "object",
            "title": "Version Info"
          }
        },
        "type": "object",
        "required": [
          "status",
          "timestamp",
          "api_version",
          "version_info"
        ],
        "title": "HealthResponse",
        "description": "Health check response model."
      },
      "VersionInfo": {
        "properties": {
          "version": {
            "$ref": "#/components/schemas/APIVersion"
          },
          "release_date": {
            "type": "string",
            "title": "Release Date"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "breaking_changes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Breaking Changes",
            "default": []
          },
          "deprecation_notice": {
            "type": "string",
            "nullable": true,
            "title": "Deprecation Notice"
          },
          "sunset_date": {
            "type": "string",
            "nullable": true,
            "title": "Sunset Date"
          }
        },
        "type": "object",
        "required": [
          "version",
          "release_date",
          "status"
        ],
        "title": "VersionInfo",
        "description": "API version information."
      }
    }
  },
  "tags": [
    {
      "name": "health",
      "description": "Health check operations"
    },
    {
      "name": "versioning",
      "description": "API version information"
    }
  ]
}
